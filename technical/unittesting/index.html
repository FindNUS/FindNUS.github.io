<!doctype html><html lang=en class=color-toggle-hidden><head><meta charset=utf-8><meta name=referrer content="no-referrer"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=generator content="Hugo 0.101.0"><meta name=description content="Table of Contents Frontend Overview Unit Testing Integration Testing User Acceptance Testing Backend Overview Unit Testing Example 1: Data Mocking - Data Preprocessing Valid Lost Item Testcases (Truncated) Invalid Lost Item Testcases Example 2: HTTP Request Mocking - Testing Route Handlers Example 3: Load Testing: High Concurrency Test Regression Testing User Acceptance Testing Frontend Overview We perform unit and integration testing with Jest and React Testing Library on the application."><title>Code Testing | FindNUS Documentation</title><link rel=icon type=image/svg+xml href=/favicon/favicon.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><meta property="og:title" content="Code Testing"><meta property="og:site_name" content="FindNUS Documentation"><meta property="og:description" content="Table of Contents Frontend Overview Unit Testing Integration Testing User Acceptance Testing Backend Overview Unit Testing Example 1: Data Mocking - Data Preprocessing Valid Lost Item Testcases (Truncated) Invalid Lost Item Testcases Example 2: HTTP Request Mocking - Testing Route Handlers Example 3: Load Testing: High Concurrency Test Regression Testing User Acceptance Testing Frontend Overview We perform unit and integration testing with Jest and React Testing Library on the application."><meta property="og:type" content="article"><meta property="og:url" content="https://FindNUS.github.io/technical/unittesting/"><meta property="article:section" content="Technical"><meta name=twitter:card content="summary"><meta name=twitter:title content="Code Testing"><meta name=twitter:description content="Table of Contents Frontend Overview Unit Testing Integration Testing User Acceptance Testing Backend Overview Unit Testing Example 1: Data Mocking - Data Preprocessing Valid Lost Item Testcases (Truncated) Invalid Lost Item Testcases Example 2: HTTP Request Mocking - Testing Route Handlers Example 3: Load Testing: High Concurrency Test Regression Testing User Acceptance Testing Frontend Overview We perform unit and integration testing with Jest and React Testing Library on the application."><script type=application/ld+json>{"@context":"http://schema.org","@type":"TechArticle","articleSection":"Technical","name":"Code Testing","url":"https://FindNUS.github.io/technical/unittesting/","headline":"Code Testing","description":"Table of Contents Frontend Overview Unit Testing Integration Testing User Acceptance Testing Backend Overview Unit Testing Example 1: Data Mocking - Data Preprocessing Valid Lost Item Testcases (Truncated) Invalid Lost Item Testcases Example 2: HTTP Request Mocking - Testing Route Handlers Example 3: Load Testing: High Concurrency Test Regression Testing User Acceptance Testing Frontend Overview We perform unit and integration testing with Jest and React Testing Library on the application.","wordCount":"1511","license":"CC BY-SA 4.0","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https://FindNUS.github.io/technical/unittesting/"},"copyrightHolder":"FindNUS Documentation","copyrightYear":"0001","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"0001-01-01T00:00:00.00Z","publisher":{"@type":"Organization","name":"FindNUS Documentation","url":"https://FindNUS.github.io/","logo":{"@type":"ImageObject","url":"https://FindNUS.github.io/brand.svg","width":"32","height":"32"}}}</script><script src=/js/main-51ef884d.bundle.min.js></script>
<link rel=preload as=font href=/fonts/Metropolis.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/LiberationSans.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload href=/main-33f7b719.min.css as=style><link rel=stylesheet href=/main-33f7b719.min.css media=all><link rel=preload href=/mobile-467819cb.min.css as=style><link rel=stylesheet href=/mobile-467819cb.min.css media="screen and (max-width: 45rem)"><link rel=preload href=/print-19966b38.min.css as=style><link rel=stylesheet href=/print-19966b38.min.css media=print><link rel=preload href=/custom.css as=style><link rel=stylesheet href=/custom.css media=all><link href=https://FindNUS.github.io/technical/unittesting/ rel=canonical type=text/html></head><body itemscope itemtype=https://schema.org/WebPage><svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427.0.808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868.0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733.0h10.876q.868.0 1.532.664t.664 1.532v17.412z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51.0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079.0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check" xmlns="http://www.w3.org/2000/svg"><path d="M8.885 20.197 25.759 3.323l2.24 2.24L8.885 24.677.0 15.792l2.24-2.24z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check_circle_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601.0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784.0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm6.441 7.822 1.972 1.972-11.239 11.239L4.207 14l1.972-1.972 4.995 4.995z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914.0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898.0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063.0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531.0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953.0 5.496 2.078t3.09 4.977z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm0-21a1.75 1.75.0 10-3.501.001A1.75 1.75.0 009.917 3.5zm11.666 2.333a1.75 1.75.0 10-3.501.001 1.75 1.75.0 003.501-.001zm1.75.0a3.502 3.502.0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502.0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502.0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502.0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502.0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_copy" xmlns="http://www.w3.org/2000/svg"><path d="M23.502 25.438V7.626H9.562v17.812h13.94zm0-20.315q1.013.0 1.787.745t.774 1.757v17.812q0 1.013-.774 1.787t-1.787.774H9.562q-1.013.0-1.787-.774t-.774-1.787V7.625q0-1.013.774-1.757t1.787-.745h13.94zM19.689.0v2.562H4.438v17.812H1.936V2.562q0-1.013.745-1.787T4.438.001h15.251z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_dangerous" xmlns="http://www.w3.org/2000/svg"><path d="M21.802 19.833 15.969 14l5.833-5.833-1.969-1.969L14 12.031 8.167 6.198 6.198 8.167 12.031 14l-5.833 5.833 1.969 1.969L14 15.969l5.833 5.833zM19.833.0 28 8.167v11.666L19.833 28H8.167L0 19.833V8.167L8.167.0h11.666z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277.0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352.0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46.0v3.155h-3.155v-3.155h3.155zm-6.384.0v3.155h-3.23v-3.155h3.23z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277.0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277.0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_error_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601.0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784.0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 6.967h2.761v8.413H12.62V6.967zm0 11.239h2.761v2.826H12.62v-2.826z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_fire" xmlns="http://www.w3.org/2000/svg"><path d="M17.689 21.998q-.32.32-.8.576t-.864.384q-1.152.384-2.272.032t-1.888-.992q-.128-.128-.096-.256t.16-.192q1.216-.384 1.92-1.216t.96-1.792q.192-.896-.064-1.728t-.384-1.728q-.128-.704-.096-1.376t.288-1.312q0-.128.128-.128t.192.064q.384.832.992 1.472t1.28 1.216 1.216 1.248.672 1.568q.064.384.064.704.064.96-.32 1.92t-1.088 1.536zm3.84-10.944q-.768-.704-1.6-1.28t-1.6-1.344q-1.536-1.536-2.016-3.584t.16-4.16q.128-.32-.096-.544t-.544-.096q-.768.32-1.44.768t-1.312.896q-1.984 1.664-3.136 3.936T8.633 10.51t.8 5.088q0 .128.032.256t.032.256q0 .576-.512.832t-1.024-.192q-.128-.192-.192-.32-1.024-1.28-1.376-2.912t-.096-3.232q.064-.384-.288-.576t-.608.128q-1.28 1.664-1.856 3.68t-.448 4.064q0 .576.096 1.184t.288 1.184q.448 1.536 1.216 2.816 1.216 2.048 3.264 3.424t4.416 1.696q2.496.32 5.024-.256t4.448-2.304q1.408-1.344 2.208-3.104t.864-3.68-.704-3.712q-.064-.128-.096-.224t-.096-.224q-.576-1.088-1.28-1.984-.256-.384-.544-.704t-.672-.64z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803.0 00-2.55.0l-2.84 2.84 2.137 2.137a2.625 2.625.0 013.501 3.501l3.499 3.499a2.625 2.625.0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626.0 11-1.75.0v-7.3a2.626 2.626.0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805.0 000 2.551l12.225 12.224a1.803 1.803.0 002.55.0l12.168-12.168a1.805 1.805.0 000-2.551z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833.0 15.999 7.166 15.999 15.999.0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771.0-.521.021-2.25.021-4.396.0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896.0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032.0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291.0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896.0 1.333.021 2.583.021 2.979.0.417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25.0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229.0.375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354.0.396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187.0-.333.104-.333.229.0.146.146.25.354.229.187.0.333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09.0 01-.39-1.203l1.578-4.811zm7.217.0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548.0 011.031.0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548.0 011.031.0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11.0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125.0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339.0 8.535 3.125 8.535 8.357.0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119.0 01-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224.0 01.017.104zm3.873-1.198-1.077 1.285a.578.578.0 01-.365.191h-.052a.547.547.0 01-.365-.122L14 5.831 1.983 15.851a.594.594.0 01-.417.122.578.578.0 01-.365-.191L.124 14.497a.57.57.0 01.069-.781L12.679 3.314c.729-.608 1.91-.608 2.64.0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313.0.556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_info_outline" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 9.793V6.967h2.761v2.826H12.62zM14 25.239q4.601.0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784.0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 21.033V12.62h2.761v8.413H12.62z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875.0l15.999 15.999L9.875 31.998z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64.0 19.359l14-14 14 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_language" xmlns="http://www.w3.org/2000/svg"><path d="M20.112 16.826h4.732q.394-1.84.394-2.826t-.394-2.826h-4.732q.197 1.38.197 2.826t-.197 2.826zm-2.497 7.756q1.643-.526 3.418-2.005t2.695-2.991h-4.141q-.657 2.629-1.972 4.995zm-.329-7.756q.197-1.38.197-2.826t-.197-2.826h-6.573q-.197 1.38-.197 2.826t.197 2.826h6.573zM14 25.173q1.84-2.695 2.695-5.587h-5.39q.854 2.892 2.695 5.587zM8.413 8.413q.789-2.826 1.972-4.995-1.643.526-3.451 2.005T4.272 8.414h4.141zM4.272 19.587q.854 1.512 2.662 2.991t3.451 2.005q-1.315-2.366-1.972-4.995H4.272zm-1.117-2.761h4.732Q7.69 15.446 7.69 14t.197-2.826H3.155q-.394 1.84-.394 2.826t.394 2.826zM14 2.826q-1.84 2.695-2.695 5.587h5.39Q15.841 5.521 14 2.826zm9.727 5.587q-.92-1.512-2.695-2.991t-3.418-2.005q1.183 2.169 1.972 4.995h4.141zM14 0q5.784.0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305.0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028.0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305.0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028.0-3.493 1.465t-1.465 3.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999.0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211.0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052.0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275.0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432.0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981.0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976.0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863.0 3.501.0H24.5c.638.0 1.167.529 1.167 1.167z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_star" xmlns="http://www.w3.org/2000/svg"><path d="M14 22.052 5.324 27.31l2.3-9.859L0 10.813l10.056-.854L14 .692l3.944 9.267L28 10.813l-7.624 6.638 2.3 9.859z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_tag" xmlns="http://www.w3.org/2000/svg"><path d="M17.52 17.52v-7.041h-7.041v7.041h7.041zM28 10.479h-7.041v7.041H28v3.439h-7.041V28H17.52v-7.041h-7.041V28H7.04v-7.041H-.001V17.52H7.04v-7.041H-.001V7.04H7.04V-.001h3.439V7.04h7.041V-.001h3.439V7.04H28v3.439z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428.0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929.0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></svg></defs></svg><div class=wrapper><input type=checkbox class=hidden id=menu-control>
<input type=checkbox class=hidden id=menu-header-control><header class=gdoc-header><div class="container flex align-center justify-between"><label for=menu-control class=gdoc-nav__control tabindex=0><svg class="gdoc-icon gdoc_menu"><title>Open Navigation</title><use xlink:href="#gdoc_menu"/></svg><svg class="gdoc-icon gdoc_arrow_back"><title>Close Navigation</title><use xlink:href="#gdoc_arrow_back"/></svg></label><div><a class="gdoc-brand gdoc-header__link" href=https://FindNUS.github.io/><span class="flex align-center"><img class=gdoc-brand__img src=/logo.png alt>
<span class=gdoc-brand__title>FindNUS Documentation</span></span></a></div><div class=gdoc-menu-header><span class=gdoc-menu-header__items><span id=gdoc-color-theme><svg class="gdoc-icon gdoc_brightness_dark"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_dark"/></svg><svg class="gdoc-icon gdoc_brightness_light"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_light"/></svg><svg class="gdoc-icon gdoc_brightness_auto"><title>Toggle Dark/Light/Auto mode</title><use xlink:href="#gdoc_brightness_auto"/></svg></span><span class=gdoc-menu-header__home><a href=https://FindNUS.github.io/ class=gdoc-header__link><svg class="gdoc-icon gdoc_home"><title>Back to homepage</title><use xlink:href="#gdoc_home"/></svg></a></span><span class=gdoc-menu-header__control><label for=menu-header-control><svg class="gdoc-icon gdoc_keyboard_arrow_right"><use xlink:href="#gdoc_keyboard_arrow_right"/><title>Close Menu Bar</title></svg></label></span></span><label for=menu-header-control class=gdoc-menu-header__control><svg class="gdoc-icon gdoc_keyboard_arrow_left"><use xlink:href="#gdoc_keyboard_arrow_left"/><title>Open Menu Bar</title></svg></label></div></div></header><main class="container flex flex-even"><aside class=gdoc-nav><nav><div class="gdoc-search flex align-center"><svg class="gdoc-icon gdoc_search"><use xlink:href="#gdoc_search"/></svg><input type=text id=gdoc-search-input class=gdoc-search__input placeholder=Search aria-label=Search maxlength=64 data-site-base-url=https://FindNUS.github.io/ data-site-lang=en><div class="gdoc-search__spinner spinner hidden"></div><ul id=gdoc-search-results class=gdoc-search__list></ul></div><section class=gdoc-nav--main><h2>Navigation</h2><ul class=gdoc-nav__list><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/problem/ class=gdoc-nav__entry>Problem Research</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/scope/ class=gdoc-nav__entry>Project Scope</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/userguide/ class=gdoc-nav__entry>User Guide</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/devguide/ class=gdoc-nav__entry>Developer Guide</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/ class=gdoc-nav__entry>Technical Docs</a></span></label><ul class=gdoc-nav__list><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/challenges/ class=gdoc-nav__entry>Challenges</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/frontend/ class=gdoc-nav__entry>Frontend</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/backend/ class=gdoc-nav__entry>Backend</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/usertesting/ class=gdoc-nav__entry>User Testing</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/unittesting/ class="gdoc-nav__entry is-active">Unit Testing</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/technical/swe/ class=gdoc-nav__entry>Software Engineering</a></span></label></li></ul></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/ms1/ class=gdoc-nav__entry>Archive - Milestone 1</a></span></label></li><li><input type=checkbox class=hidden>
<label><span class=flex><a href=/ms2/ class=gdoc-nav__entry>Archive - Milestone 2</a></span></label></li></ul></section><section class=gdoc-nav--more></section></nav></aside><div class=gdoc-page><div class="gdoc-page__header flex flex-wrap
justify-end
hidden-mobile
hidden" itemprop=breadcrumb></div><article class="gdoc-markdown gdoc-markdown__align--left"><h1>Code Testing</h1><div class=gdoc-page__anchorwrap><h2 id=table-of-contents>Table of Contents
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#table-of-contents class="gdoc-page__anchor clip flex align-center" title="Anchor to: Table of Contents" aria-label="Anchor to: Table of Contents" href=#table-of-contents><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><ul><li><a class=gdoc-markdown__link href=#frontend>Frontend</a><ul><li><a class=gdoc-markdown__link href=#overview>Overview</a></li><li><a class=gdoc-markdown__link href=#unit-testing>Unit Testing</a></li><li><a class=gdoc-markdown__link href=#integration-testing>Integration Testing</a></li><li><a class=gdoc-markdown__link href=#user-acceptance-testing>User Acceptance Testing</a></li></ul></li><li><a class=gdoc-markdown__link href=#backend>Backend</a><ul><li><a class=gdoc-markdown__link href=#overview-1>Overview</a></li><li><a class=gdoc-markdown__link href=#unit-testing-1>Unit Testing</a><ul><li><a class=gdoc-markdown__link href=#example-1-data-mocking---data-preprocessing>Example 1: Data Mocking - Data Preprocessing</a><ul><li><a class=gdoc-markdown__link href=#valid-lost-item-testcases-truncated>Valid Lost Item Testcases (Truncated)</a></li><li><a class=gdoc-markdown__link href=#invalid-lost-item-testcases>Invalid Lost Item Testcases</a></li></ul></li><li><a class=gdoc-markdown__link href=#example-2-http-request-mocking---testing-route-handlers>Example 2: HTTP Request Mocking - Testing Route Handlers</a></li><li><a class=gdoc-markdown__link href=#example-3-load-testing-high-concurrency-test>Example 3: Load Testing: High Concurrency Test</a></li></ul></li></ul></li><li><a class=gdoc-markdown__link href=#regression-testing>Regression Testing</a></li><li><a class=gdoc-markdown__link href=#user-acceptance-testing-1>User Acceptance Testing</a></li></ul><div class=gdoc-page__anchorwrap><h1 id=frontend>Frontend
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#frontend class="gdoc-page__anchor clip flex align-center" title="Anchor to: Frontend" aria-label="Anchor to: Frontend" href=#frontend><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h1></div><div class=gdoc-page__anchorwrap><h2 id=overview>Overview
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#overview class="gdoc-page__anchor clip flex align-center" title="Anchor to: Overview" aria-label="Anchor to: Overview" href=#overview><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>We perform unit and integration testing with Jest and React Testing Library on
the application. For Milestone 2, we focus on testing selected components. Test
cases will be expanded for Milestone 3, with more components and end-to-end
testing. Using Jest, we are able to use the <code>describe</code> and <code>it</code> functions to
perform our tests. This is combined with the <code>render</code> and <code>screen</code> from React
Testing Library which acts as a bridge between Jest and the components. The
test code is executed with the command <code>npm test</code>.</p><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h2 id=unit-testing>Unit Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#unit-testing class="gdoc-page__anchor clip flex align-center" title="Anchor to: Unit Testing" aria-label="Anchor to: Unit Testing" href=#unit-testing><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>We focus on the trivial case of a button component, which is expected to
display content based on its input</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;Button component&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>testClass</span> <span class=o>=</span> <span class=s2>&#34;btn btn--primary&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>const</span> <span class=nx>sampleText</span> <span class=o>=</span> <span class=s2>&#34;Lorem ipsum&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;has the correct class&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>getByText</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>render</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>class</span><span class=o>=</span><span class=p>{</span><span class=nx>testClass</span><span class=p>}</span> <span class=na>text</span><span class=o>=</span><span class=p>{</span><span class=nx>sampleText</span><span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nx>getByText</span><span class=p>(</span><span class=nx>sampleText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>btn</span><span class=p>).</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=nx>testClass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;text renders properly&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=p>{</span> <span class=nx>getByText</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>render</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>class</span><span class=o>=</span><span class=p>{</span><span class=nx>testClass</span><span class=p>}</span> <span class=na>text</span><span class=o>=</span><span class=p>{</span><span class=nx>sampleText</span><span class=p>}</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>btn</span> <span class=o>=</span> <span class=nx>getByText</span><span class=p>(</span><span class=nx>sampleText</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>btn</span><span class=p>).</span><span class=nx>toBeInTheDocument</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h2 id=integration-testing>Integration Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#integration-testing class="gdoc-page__anchor clip flex align-center" title="Anchor to: Integration Testing" aria-label="Anchor to: Integration Testing" href=#integration-testing><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>Next, we look at the FormField component, which uses the FormInput and TextArea
components. The component is expected to output the FormInput element by default,
and only the TextArea component if its prop &ldquo;type&rdquo; is set to &ldquo;textarea&rdquo;. We also
expect the input fields to be disabled as required.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-tsx data-lang=tsx><span class=line><span class=cl><span class=kr>const</span> <span class=nx>dummyOnChange</span> <span class=o>=</span> <span class=p>(</span><span class=nx>ev</span>: <span class=kt>React.FormEvent</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>generateEl</span> <span class=o>=</span> <span class=p>(</span><span class=nx>isDisabled</span>: <span class=kt>boolean</span><span class=p>,</span> <span class=kr>type</span> <span class=o>=</span> <span class=s2>&#34;text&#34;</span><span class=p>)</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FormField</span>
</span></span><span class=line><span class=cl>      <span class=na>labelContent</span><span class=o>=</span><span class=s>&#34;formfield label&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>onChange</span><span class=o>=</span><span class=p>{</span><span class=nx>dummyOnChange</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=na>disabled</span><span class=o>=</span><span class=p>{</span><span class=nx>isDisabled</span><span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=na>type</span><span class=o>=</span><span class=p>{</span><span class=kr>type</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;Form field component&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;renders label content&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>render</span><span class=p>(</span><span class=nx>generateEl</span><span class=p>(</span><span class=kc>false</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>labelEl</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByText</span><span class=p>(</span><span class=s2>&#34;formfield label&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>labelEl</span><span class=p>).</span><span class=nx>toBeInTheDocument</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;initial class name is correct&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>render</span><span class=p>(</span><span class=nx>generateEl</span><span class=p>(</span><span class=kc>false</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>labelEl</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByText</span><span class=p>(</span><span class=s2>&#34;formfield label&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>labelEl</span><span class=p>.</span><span class=nx>parentElement</span><span class=p>).</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>labelEl</span><span class=p>).</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field__label&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;renders input element and not textarea&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>render</span><span class=p>(</span><span class=nx>generateEl</span><span class=p>(</span><span class=kc>false</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>inputEl</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s2>&#34;textbox&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>inputEl</span><span class=p>).</span><span class=nx>toBeVisible</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>inputEl</span><span class=p>).</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field__input&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>inputEl</span><span class=p>).</span><span class=nx>not</span><span class=p>.</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field__textarea&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;renders textarea element and not input&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>render</span><span class=p>(</span><span class=nx>generateEl</span><span class=p>(</span><span class=kc>false</span><span class=p>,</span> <span class=s2>&#34;textarea&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>textareaEl</span> <span class=o>=</span> <span class=nx>screen</span><span class=p>.</span><span class=nx>getByRole</span><span class=p>(</span><span class=s2>&#34;textbox&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>textareaEl</span><span class=p>).</span><span class=nx>toBeVisible</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>textareaEl</span><span class=p>).</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field__textarea&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>expect</span><span class=p>(</span><span class=nx>textareaEl</span><span class=p>).</span><span class=nx>not</span><span class=p>.</span><span class=nx>toHaveClass</span><span class=p>(</span><span class=s2>&#34;form-field__input&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h2 id=user-acceptance-testing>User Acceptance Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#user-acceptance-testing class="gdoc-page__anchor clip flex align-center" title="Anchor to: User Acceptance Testing" aria-label="Anchor to: User Acceptance Testing" href=#user-acceptance-testing><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>All commits are merged to the <code>dev</code> branch for user acceptance testing, before
they are merged to production. This allows us to always have a production-ready
frontend, which will not be hindered by development and possible bugs which can
be squashed in time.</p><div class=gdoc-page__anchorwrap><h1 id=backend>Backend
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#backend class="gdoc-page__anchor clip flex align-center" title="Anchor to: Backend" aria-label="Anchor to: Backend" href=#backend><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h1></div><div class=gdoc-page__anchorwrap><h2 id=overview-1>Overview
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#overview-1 class="gdoc-page__anchor clip flex align-center" title="Anchor to: Overview" aria-label="Anchor to: Overview" href=#overview-1><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>The backend implements Unit Testing locally, regression testing using Github Actions and User Acceptance Testing (System testing) by staging changes on a UAT environment. Testing is executing using golang&rsquo;s built-in testing command, <code>go test &lt;files></code>.</p><div class=gdoc-page__anchorwrap><h2 id=unit-testing-1>Unit Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#unit-testing-1 class="gdoc-page__anchor clip flex align-center" title="Anchor to: Unit Testing" aria-label="Anchor to: Unit Testing" href=#unit-testing-1><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h2></div><p>Unit testing is done extensively on backend functions. For brevity, we highlight 3 notable unit testing methods that we have implemented in our Backend testing workflow.</p><div class=gdoc-page__anchorwrap><h3 id=example-1-data-mocking---data-preprocessing>Example 1: Data Mocking - Data Preprocessing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#example-1-data-mocking---data-preprocessing class="gdoc-page__anchor clip flex align-center" title="Anchor to: Example 1: Data Mocking - Data Preprocessing" aria-label="Anchor to: Example 1: Data Mocking - Data Preprocessing" href=#example-1-data-mocking---data-preprocessing><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Preprocessing of HTTP requests is done for the POST & PATCH requests. In the unit test, we load mock data that are designed to PASS (data with no issue) or FAIL (handle the problematic data by returning an appropriate response).</p><p>We test for correctness by running each of the valid/invalid mock items in the data preprocessing function. We then check if the expected output matches what we expect.</p><div align=right><a href=#table-of-contents>Back to top</a></div><p>In this case, our pre-processing function <code>ParseFoundItemBody</code> returns a tuple <code>(bytes, error)</code>.
We check if an error was appropriately detected by the function.</p><div class=gdoc-page__anchorwrap><h4 id=valid-lost-item-testcases-truncated>Valid Lost Item Testcases (Truncated)
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#valid-lost-item-testcases-truncated class="gdoc-page__anchor clip flex align-center" title="Anchor to: Valid Lost Item Testcases (Truncated)" aria-label="Anchor to: Valid Lost Item Testcases (Truncated)" href=#valid-lost-item-testcases-truncated><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Water bottle&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-05-26T08:51:48.782Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;UTown Bus Stop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Bottles&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Item_details&#34;</span><span class=p>:</span> <span class=s2>&#34;Blue, Yellow, Red&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Contact_details&#34;</span><span class=p>:</span> <span class=s2>&#34;@FindNUS&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Contact_method&#34;</span><span class=p>:</span> <span class=s2>&#34;LiNe&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Laptop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-01-19T01:32:06Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Techno Edge&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Mouse&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-04-16T20:02:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Central Library&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Tux&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-03-27T10:08:26Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;COM2 Bus Stop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Etc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_base64&#34;</span><span class=p>:</span> <span class=s2>&#34;iVBORw&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h4 id=invalid-lost-item-testcases>Invalid Lost Item Testcases
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#invalid-lost-item-testcases class="gdoc-page__anchor clip flex align-center" title="Anchor to: Invalid Lost Item Testcases" aria-label="Anchor to: Invalid Lost Item Testcases" href=#invalid-lost-item-testcases><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h4></div><p>The reason for &lsquo;invalidness&rsquo; of the data is tagged by its name.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;No Date&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Kent Ridge MRT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;No Location&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-01-31T01:42:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;No Category&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-01-31T01:42:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Kent Ridge MRT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-01-31T01:42:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;No Name&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Invalid Date&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;201:42:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Kent Ridge MRT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Electronics&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=s2>&#34;Invalid Category&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Date&#34;</span><span class=p>:</span> <span class=s2>&#34;2022-01-31T01:42:30Z&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Location&#34;</span><span class=p>:</span> <span class=s2>&#34;Kent Ridge MRT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Category&#34;</span><span class=p>:</span> <span class=s2>&#34;Foobar&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Image_url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://imgs.xkcd.com/comics/is_it_worth_the_time_2x.png&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><p>This is the testing code used to test for correctness. We can run this locally using golang&rsquo;s built-in testing function: <code>go test .</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>TestParseFoundItemBody</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>testdata</span> <span class=o>:=</span> <span class=nf>loadTestItems</span><span class=p>(</span><span class=s>&#34;valid_found_items.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>item</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>testdata</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>bytes</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>ParseFoundItemBody</span><span class=p>(</span><span class=nx>bytes</span><span class=p>);</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;Found item wrongly flagged as invalid: &#34;</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;Error: &#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>.</span><span class=nf>Error</span><span class=p>())</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Fail</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>testdata</span> <span class=p>=</span> <span class=nf>loadTestItems</span><span class=p>(</span><span class=s>&#34;invalid_found_items.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>item</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>testdata</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>bytes</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>ParseFoundItemBody</span><span class=p>(</span><span class=nx>bytes</span><span class=p>);</span> <span class=nx>err</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;Found item wrongly flagged as valid: &#34;</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nf>Error</span><span class=p>())</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Fail</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>TestParseLostItemBody</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>testdata</span> <span class=o>:=</span> <span class=nf>loadTestItems</span><span class=p>(</span><span class=s>&#34;valid_lost_items.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>item</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>testdata</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>bytes</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>ParseLostItemBody</span><span class=p>(</span><span class=nx>bytes</span><span class=p>);</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;Lost item wrongly flagged as invalid: &#34;</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nf>Error</span><span class=p>())</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Fail</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>testdata</span> <span class=p>=</span> <span class=nf>loadTestItems</span><span class=p>(</span><span class=s>&#34;invalid_lost_items.json&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>item</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>testdata</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>bytes</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>ParseLostItemBody</span><span class=p>(</span><span class=nx>bytes</span><span class=p>);</span> <span class=nx>err</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=s>&#34;Lost item wrongly flagged as valid: &#34;</span><span class=p>,</span> <span class=nx>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Log</span><span class=p>(</span><span class=nx>err</span><span class=p>.</span><span class=nf>Error</span><span class=p>())</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Fail</span><span class=p>()</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h3 id=example-2-http-request-mocking---testing-route-handlers>Example 2: HTTP Request Mocking - Testing Route Handlers
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#example-2-http-request-mocking---testing-route-handlers class="gdoc-page__anchor clip flex align-center" title="Anchor to: Example 2: HTTP Request Mocking - Testing Route Handlers" aria-label="Anchor to: Example 2: HTTP Request Mocking - Testing Route Handlers" href=#example-2-http-request-mocking---testing-route-handlers><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Testing of business-critical HTTP routes is important to ensure correctness of the backend solution We can do this by mocking HTTP data via the <code>httptest</code> standard library in golang. These mock requests can be tested against our hanlders to check for expected outputs.<br>In this snippet, we mock HTTP requests with common endpoint errors, such as wrong parameter types being input into the code. We test that the response code is appropriately returned (400 instead of 200), which means that the error was handled correctly internally.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>TestHandleNewLostItem</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Test that user_id guard works
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>httpwriter</span> <span class=o>:=</span> <span class=nx>httptest</span><span class=p>.</span><span class=nf>NewRecorder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>ginContext</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>gin</span><span class=p>.</span><span class=nf>CreateTestContext</span><span class=p>(</span><span class=nx>httpwriter</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>body</span> <span class=o>:=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>interface</span><span class=p>{}{</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Name&#34;</span><span class=p>:</span>     <span class=s>&#34;Laptop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Date&#34;</span><span class=p>:</span>     <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Location&#34;</span><span class=p>:</span> <span class=s>&#34;Unknown&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Category&#34;</span><span class=p>:</span> <span class=s>&#34;Cards&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>bodybytes</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>ginContext</span><span class=p>.</span><span class=nx>Request</span><span class=p>,</span> <span class=nx>_</span> <span class=p>=</span> <span class=nx>http</span><span class=p>.</span><span class=nf>NewRequest</span><span class=p>(</span><span class=s>&#34;POST&#34;</span><span class=p>,</span> <span class=s>&#34;&#34;</span><span class=p>,</span> <span class=nx>bytes</span><span class=p>.</span><span class=nf>NewBuffer</span><span class=p>(</span><span class=nx>bodybytes</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=nf>HandleNewLostItem</span><span class=p>(</span><span class=nx>ginContext</span><span class=p>,</span> <span class=kc>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>httpwriter</span><span class=p>.</span><span class=nx>Code</span> <span class=o>!=</span> <span class=mi>400</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>t</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;Wrong code&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Test type-senstive Category guard
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>httpwriter</span> <span class=p>=</span> <span class=nx>httptest</span><span class=p>.</span><span class=nf>NewRecorder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>	<span class=nx>ginContext</span><span class=p>,</span> <span class=nx>_</span> <span class=p>=</span> <span class=nx>gin</span><span class=p>.</span><span class=nf>CreateTestContext</span><span class=p>(</span><span class=nx>httpwriter</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>body</span> <span class=p>=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kd>interface</span><span class=p>{}{</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Name&#34;</span><span class=p>:</span>     <span class=s>&#34;Laptop&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Date&#34;</span><span class=p>:</span>     <span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Location&#34;</span><span class=p>:</span> <span class=s>&#34;Unknown&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;Category&#34;</span><span class=p>:</span> <span class=mi>77</span><span class=p>,</span>
</span></span><span class=line><span class=cl>		<span class=s>&#34;User_id&#34;</span><span class=p>:</span>  <span class=s>&#34;7j0fs&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>bodybytes</span><span class=p>,</span> <span class=nx>_</span> <span class=p>=</span> <span class=nx>json</span><span class=p>.</span><span class=nf>Marshal</span><span class=p>(</span><span class=nx>body</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>ginContext</span><span class=p>.</span><span class=nx>Request</span><span class=p>,</span> <span class=nx>_</span> <span class=p>=</span> <span class=nx>http</span><span class=p>.</span><span class=nf>NewRequest</span><span class=p>(</span><span class=s>&#34;POST&#34;</span><span class=p>,</span> <span class=s>&#34;&#34;</span><span class=p>,</span> <span class=nx>bytes</span><span class=p>.</span><span class=nf>NewBuffer</span><span class=p>(</span><span class=nx>bodybytes</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=nf>HandleNewLostItem</span><span class=p>(</span><span class=nx>ginContext</span><span class=p>,</span> <span class=kc>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>httpwriter</span><span class=p>.</span><span class=nx>Code</span> <span class=o>!=</span> <span class=mi>400</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>t</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;Wrong code - Assertion type&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h3 id=example-3-load-testing-high-concurrency-test>Example 3: Load Testing: High Concurrency Test
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#example-3-load-testing-high-concurrency-test class="gdoc-page__anchor clip flex align-center" title="Anchor to: Example 3: Load Testing: High Concurrency Test" aria-label="Anchor to: Example 3: Load Testing: High Concurrency Test" href=#example-3-load-testing-high-concurrency-test><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h3></div><p>Our message queue logic uses some concurrent/parallel programming techniques to achieve high speed. However, this sort of programming can cause a <a class=gdoc-markdown__link href=https://www.techtarget.com/searchstorage/definition/race-condition>race condition</a> which can be fatal to the backend running or cause very hard to debug bugs.</p><p>In this example, we showcase our testing logic to detect concurrency bugs by simulating very high load conditions on the function. We test that our unique, incremental id generator <code>GetJobId</code> will guarantee that no matter how many concurrent calls are made to it, ALL ids generated by the function are unique.<br>This is done by calling the function concurrently and doing a counting sort of the JobIds returned.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// Ensure that concurrent Read-Write for JobId is unique
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>TestGetJobId</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>const</span> <span class=nx>numTest</span> <span class=p>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>	<span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>uint64</span><span class=p>,</span> <span class=nx>numTest</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>rand</span><span class=p>.</span><span class=nf>Seed</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>().</span><span class=nf>Unix</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;=</span> <span class=nx>numTest</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Concurrently launch GetJobIds calls 
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>n</span> <span class=o>:=</span> <span class=nx>rand</span><span class=p>.</span><span class=nf>Intn</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nf>Duration</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=o>*</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Microsecond</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>id</span> <span class=o>:=</span> <span class=nf>GetJobId</span><span class=p>()</span>
</span></span><span class=line><span class=cl>			<span class=nx>ch</span> <span class=o>&lt;-</span> <span class=nx>id</span>
</span></span><span class=line><span class=cl>		<span class=p>}()</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=nx>get</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Store the values in a counting sort array
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=kd>var</span> <span class=nx>countSort</span> <span class=p>[</span><span class=nx>numTest</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span><span class=kt>uint64</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Get the returned JobId values
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>for</span> <span class=nx>val</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>ch</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>countSort</span><span class=p>[</span><span class=nx>val</span><span class=p>]</span><span class=o>++</span>
</span></span><span class=line><span class=cl>		<span class=nx>get</span><span class=o>++</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Last value obtained - close the channel to break from the loop
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>if</span> <span class=nx>get</span> <span class=p>&gt;</span> <span class=nx>numTest</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nb>close</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Check for duplicates
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>res</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>countSort</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>res</span> <span class=p>&gt;</span> <span class=mi>1</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>t</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;Duplicate found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h1 id=regression-testing>Regression Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#regression-testing class="gdoc-page__anchor clip flex align-center" title="Anchor to: Regression Testing" aria-label="Anchor to: Regression Testing" href=#regression-testing><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h1></div><p>Regression testing is a software testing practice that ensures an application still functions as expected after any code changes, updates, or improvements.</p><p>When we submit Pull Requests to the UAT and Production branches, a regression test is performed. All tests that we wrote to change a microservice are re-run to ensure that a change to one portion of the microservice does not affect the rest of the microservice.</p><div align=right><a href=#table-of-contents>Back to top</a></div><div class=gdoc-page__anchorwrap><h1 id=user-acceptance-testing-1>User Acceptance Testing
<a data-clipboard-text=https://FindNUS.github.io/technical/unittesting/#user-acceptance-testing-1 class="gdoc-page__anchor clip flex align-center" title="Anchor to: User Acceptance Testing" aria-label="Anchor to: User Acceptance Testing" href=#user-acceptance-testing-1><svg class="gdoc-icon gdoc_link"><use xlink:href="#gdoc_link"/></svg></a></h1></div><p>We set up a staging environment: User Acceptance Testing (UAT) that is essentially a clone of the production website, but with new features being deployed there for testing. There, we test end-to-end, with the UAT frontend site calling the UAT backend and testing for bugs and expected behaviour.</p><div align=right><a href=#table-of-contents>Back to top</a></div></article><div class="gdoc-page__footer flex flex-wrap justify-between"></div></div></main><footer class=gdoc-footer><nav class="container flex"><div><section class="flex flex-wrap align-center"><span class="gdoc-footer__item gdoc-footer__item--row">FindNUS, built with<svg class="gdoc-icon gdoc_heart"><use xlink:href="#gdoc_heart"/></svg> By <a href=https://github.com/jinxuan-owyong class=gdoc-footer__link>Jin Xuan</a> & <a href=https://github.com/nichyjt class=gdoc-footer__link>Nicholas</a></span></section></div><div class="flex flex-25 justify-end"><span class="gdoc-footer__item text-right"><a class="gdoc-footer__link fake-link" href=# aria-label="Back to top"><svg class="gdoc-icon gdoc_keyboard_arrow_up"><use xlink:href="#gdoc_keyboard_arrow_up"/></svg><span class=hidden-mobile>Back to top</span></a></span></div></nav></footer></div><script defer src=/js/search-1c4cfb2d.bundle.min.js></script></body></html>